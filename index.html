<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Réouverture du site</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      background: transparent;
    }
    #timer {
      font-size: 28px;
      font-weight: bold;
    }
    #openLink {
      display: none; /* lien caché par défaut */
      font-size: 24px;
      color: blue;
      text-decoration: underline;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<p>Le site rouvre dans :</p>
<div id="timer">Chargement...</div>
<a id="openLink" href="https://cdimgz.my.canva.site" target="_blank">
  Le site est ouvert, clique ici pour y accéder
</a>

<script>
function updateCountdown() {
  const now = new Date();

  // Heure de réouverture : 15h30 aujourd'hui
  const reopen = new Date();
  reopen.setHours(15, 25, 0, 0);

  const timerEl = document.getElementById("timer");
  const linkEl = document.getElementById("openLink");

  // Si l'heure actuelle est déjà passée, on arrête le timer et on montre le lien
  if (now >= reopen) {
    timerEl.style.display = "none";   // cacher le timer
    linkEl.style.display = "block";   // montrer le lien
    return true; // signal pour arrêter l'intervalle
  }

  const diff = reopen - now;
  const hours = Math.floor(diff / (1000 * 60 * 60));
  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((diff % (1000 * 60)) / 1000);

  timerEl.innerText =
    `${String(hours).padStart(2, "0")}:` +
    `${String(minutes).padStart(2, "0")}:` +
    `${String(seconds).padStart(2, "0")}`;

  return false; // timer toujours actif
}

// Lancer le timer
const countdownInterval = setInterval(() => {
  const finished = updateCountdown();
  if (finished) clearInterval(countdownInterval);
}, 1000);

// Lancer immédiatement pour éviter le "chargement..."
updateCountdown();
</script>

</body>
</html>
