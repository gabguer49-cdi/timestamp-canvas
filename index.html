<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Réouverture du site</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      background: transparent;
    }
    #timer {
      font-size: 28px;
      font-weight: bold;
    }
    #openLink {
      display: none; /* lien caché par défaut */
      font-size: 24px;
      color: blue;
      text-decoration: underline;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<p>Le site rouvre dans :</p>
<div id="timer">Chargement...</div>
<a id="openLink" href="https://cdimgz.my.canva.site" target="_blank">
  Le site est ouvert, clique ici pour y accéder
</a>

<script>
function updateCountdown() {
  const now = new Date();

  // Heure de réouverture : 14h00 aujourd'hui ou demain si déjà passée
  const reopen = new Date();
  reopen.setHours(15, 22, 0, 0);
  if (now >= reopen) {
    reopen.setDate(reopen.getDate() + 1);
  }

  const diff = reopen - now;

  const timerEl = document.getElementById("timer");
  const linkEl = document.getElementById("openLink");

  if (diff <= 0) {
    clearInterval(countdownInterval); // Arrêter le timer
    timerEl.style.display = "none";    // Cacher le timer
    linkEl.style.display = "block";    // Afficher le lien
    return;
  }

  const hours = Math.floor(diff / (1000 * 60 * 60));
  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((diff % (1000 * 60)) / 1000);

  timerEl.innerText =
    `${String(hours).padStart(2, "0")}:` +
    `${String(minutes).padStart(2, "0")}:` +
    `${String(seconds).padStart(2, "0")}`;
}

// Stocker l'intervalle pour pouvoir l'arrêter
const countdownInterval = setInterval(updateCountdown, 1000);
updateCountdown(); // lancement immédiat
</script>

</body>
</html>
