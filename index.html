<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>RÃ©ouverture du site</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      background: transparent;
      overflow: hidden; /* important pour les confettis */
    }

    #timer {
      font-size: 28px;
      font-weight: bold;
    }

    #openLink {
      display: none;
      font-size: 24px;
      color: blue;
      text-decoration: underline;
      cursor: pointer;
      margin-top: 10px;
    }

    /* CONFETTIS */
    .confetti {
      position: fixed;
      top: -10px;
      width: 10px;
      height: 10px;
      background-color: red;
      animation: fall linear forwards;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

<p>Le site rouvre dans :</p>
<div id="timer">Chargement...</div>

<a id="openLink" href="https://cdimgz.my.canva.site" target="_blank">
  ðŸŽ‰ Le site est ouvert, clique ici pour y accÃ©der ðŸŽ‰
</a>

<script>
function launchConfetti() {
  const colors = ["#ff0", "#f00", "#0f0", "#00f", "#ff00ff", "#00ffff"];

  for (let i = 0; i < 120; i++) {
    const confetti = document.createElement("div");
    confetti.className = "confetti";
    confetti.style.left = Math.random() * 100 + "vw";
    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
    confetti.style.animationDuration = (Math.random() * 2 + 2) + "s";
    confetti.style.opacity = Math.random();

    document.body.appendChild(confetti);

    setTimeout(() => confetti.remove(), 4000);
  }
}

function updateCountdown() {
  const now = new Date();

  // Heure de rÃ©ouverture : 15h30
  const reopen = new Date();
  reopen.setHours(13, 12, 0, 0);

  const timerEl = document.getElementById("timer");
  const linkEl = document.getElementById("openLink");

  if (now >= reopen) {
    timerEl.style.display = "none";
    linkEl.style.display = "block";
    launchConfetti(); // ðŸŽ‰ confettis !
    return true;
  }

  const diff = reopen - now;

  const hours = Math.floor(diff / (1000 * 60 * 60));
  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((diff % (1000 * 60)) / 1000);

  timerEl.innerText =
    `${String(hours).padStart(2, "0")}:` +
    `${String(minutes).padStart(2, "0")}:` +
    `${String(seconds).padStart(2, "0")}`;

  return false;
}

const countdownInterval = setInterval(() => {
  if (updateCountdown()) clearInterval(countdownInterval);
}, 1000);

updateCountdown();
</script>

</body>
</html>
